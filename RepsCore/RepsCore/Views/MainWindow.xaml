<Window x:Class="RepsCore.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:RepsCore"
        xmlns:common="clr-namespace:RepsCore.Common"
        xmlns:helper="clr-namespace:RepsCore.Helper"
        xmlns:vms="clr-namespace:RepsCore.ViewModels"
        mc:Ignorable="d"
        WindowStyle="None"
        WindowStartupLocation="CenterScreen"
        
        Background="{DynamicResource WindowBackgroundBaseColorBrush}"
        Width="1024" Height="768" 
        MinWidth="800" MinHeight="600"
        DataContext="{StaticResource MainViewModel}"
        Title="{Binding AppTitle}" 
        StateChanged="Window_StateChanged"
        Closing="Window_Closing">

    <WindowChrome.WindowChrome>
        <WindowChrome CaptionHeight="32" ResizeBorderThickness="{x:Static SystemParameters.WindowResizeBorderThickness}"/>
    </WindowChrome.WindowChrome>
    <Border Style="{StaticResource WindowMainPanelStyle}">
        <Grid Background="{DynamicResource BoardBackgroundColorBrush}">
            <Grid.RowDefinitions>
                <RowDefinition Height="32"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- アプリタイトルバー -->
            <Grid x:Name="AppTitleBar" Grid.Row="0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="32"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="auto"/>
                </Grid.ColumnDefinitions>

                <!-- App icon -->
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <Button ToolTip="{Binding AppTitleVer}" IsHitTestVisible="True" WindowChrome.IsHitTestVisibleInChrome="True" IsTabStop="False">
                        <Button.Style>
                            <Style TargetType="{x:Type Button}">
                                <Setter Property="OverridesDefaultStyle" Value="true" />
                                <Setter Property="Background" Value="Transparent" />
                                <Setter Property="Foreground" Value="{DynamicResource ControlForegroundColorBrush}"/>
                                <Setter Property="BorderThickness" Value="0" />
                                <Setter Property="Margin" Value="0" />
                                <Setter Property="Padding" Value="0" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <ControlTemplate TargetType="Button">
                                            <Border x:Name="Border" CornerRadius="0" BorderThickness="0" Background="{TemplateBinding Background}">
                                                <Viewbox Width="22" Height="22" Margin="5">
                                                    <Canvas Width="101.52757" Height="101.52314">
                                                        <Canvas.RenderTransform>
                                                            <TranslateTransform X="0" Y="0"/>
                                                        </Canvas.RenderTransform>
                                                        <Canvas Name="layer1">
                                                            <Canvas.RenderTransform>
                                                                <TranslateTransform X="-2.8648005" Y="-194.52514"/>
                                                            </Canvas.RenderTransform>
                                                            <Path Fill="{DynamicResource ControlForegroundColorBrush}" Data=""/>
                                                        </Canvas>
                                                    </Canvas>
                                                </Viewbox>
                                            </Border>
                                        </ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </Button.Style>
                    </Button>
                </StackPanel>

                <!-- System icons -->
                <StackPanel Orientation="Horizontal" Grid.Column="2" HorizontalAlignment="Right" Margin="0">

                    <Button x:Name="SettingsButton" Style="{DynamicResource PathSysButton}" ToolTip="設定" Command="{Binding OpenBuildingWindowCommand}"
                                Content="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,
8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,
11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,
4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,
2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,
5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,
12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,
18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,
21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,
18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z">
                    </Button>

                    <Button x:Name="MinimizeButton" Style="{StaticResource PathSysButton}" Click="MinimizeButton_Click">
                        M20,14H4V10H20
                    </Button>

                    <Button x:Name="RestoreButton" Style="{StaticResource PathSysButton}" Click="RestoreButton_Click">
                        M4,8H8V4H20V16H16V20H4V8M16,8V14H18V6H10V8H16M6,12V18H14V12H6Z
                    </Button>

                    <Button x:Name="MaxButton" Style="{StaticResource PathSysButton}" Click="MaxButton_Click">
                        M4,4H20V20H4V4M6,8V18H18V8H6Z
                    </Button>

                    <Button x:Name="CloseButton" Style="{StaticResource PathSysButton}" Click="CloseButton_Click">
                        M13.46,12L19,17.54V19H17.54L12,13.46L6.46,19H5V17.54L10.54,12L5,6.46V5H6.46L12,10.54L17.54,5H19V6.46L13.46,12Z
                    </Button>

                </StackPanel>

            </Grid>

            <!-- エラー通知エリア -->
            <Grid Grid.Row="1" Visibility="{Binding ShowErrorDialog, Converter={StaticResource BoolToVisibilityCollapsedConverter}}" Background="#FFDFD991">
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="50"/>
                </Grid.ColumnDefinitions>

                <TextBox Padding="3" Margin="6" Text="{Binding ErrorText,Mode=OneWay}" IsReadOnly="True" AcceptsReturn="True" TextWrapping="Wrap" HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Auto" VerticalAlignment="Stretch"></TextBox>
                <Button x:Name="ButtonCloseErrorDialog" FontFamily="Segoe UI Symbol" Content="&#57610;" Command="{Binding CloseErrorCommand}" Grid.Row="0" Grid.Column="1" Width="24" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center">
                </Button>
                <!-- Symbol Enum
             https://docs.microsoft.com/en-us/uwp/api/windows.ui.xaml.controls.symbol?view=winrt-19041
            -->
            </Grid>


            <!-- メインペイン -->
            <Grid Grid.Row="2">

                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- メインメニュー -->
                <TabControl  Grid.Row="0" Grid.Column="1" Style="{StaticResource NoChromeTabControl}" TabStripPlacement="Top" HorizontalAlignment="Stretch" Margin="0 0 0 12">

                    <!-- ホーム -->
                    <TabItem x:Name="Home_Tab" Width="120" Style="{StaticResource NoChromeTabHeader}">
                        <TabItem.Header>
                            <Grid Width="190">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                                    <Viewbox Margin="16" HorizontalAlignment="Left" VerticalAlignment="Center" Stretch="Uniform" Width="18" Height="18">
                                        <Canvas Opacity="1" Width="12" Height="12" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Path Fill="{Binding ElementName=Home_Tab,Path=Foreground}" Stretch="Uniform" Width="12" Height="12" Data="M182.981 112.854c-7.3-5.498-17.699-7.697-17.699-7.697s8.8-5.102 12.396-10.199  c3.6-5.099 5.399-12.999 5.7-17.098c0.299-4.101 1-21.296-12.399-31.193c-10.364-7.658-22.241-10.698-38.19-11.687V0.278h-21.396  V34.57c-4.774 0-10.353 0-16.297 0V0.278H73.702V34.57c-21.841 0-42.092 0-42.092 0v22.219c0 0 8.998 0 12.372 0  c3.373 0 9.372 0.375 11.921 3.228c2.55 2.848 3 4.349 3 9.895c0 5.548 0.001 86.435 0.001 88.535c0 2.099-0.4 4.697-2.201 6.398  c-1.798 1.701-3.597 2.098-7.898 2.098c-4.3 0-12.796 0-12.796 0l-4.399 25.698c0 0 20.918 0 42.092 0v34.195h21.395v-34.195  c6.574 0 12.298 0 16.297 0v34.195h21.396v-34.759c5.531-0.323 10.688-0.742 13.696-1.136c6.1-0.798 19.896-2.398 32.796-11.397  c12.896-9 15.793-23.098 16.094-37.294C195.68 128.053 190.274 118.353 182.981 112.854z M95.096 58.766  c0 0 6.798-0.599 13.497-0.501c6.701 0.099 12.597 0.3 21.398 3c8.797 2.701 13.992 9.3 14.196 17.099  c0.199 7.799-3.204 12.996-9.2 16.296c-5.998 3.299-14.292 5.099-22.094 5.396c-7.797 0.301-17.797 0-17.797 0V58.766z   M142.986 161.045c-4.899 2.701-14.698 5.1-24.194 5.798c-9.499 0.701-23.696 0.401-23.696 0.401v-45.893c0 0 13.598-0.698 24.197 0  c10.597 0.703 19.495 3.4 23.492 5.403c3.999 1.998 11 6.396 11 16.896C153.785 154.146 147.882 158.346 142.986 161.045z"/>
                                        </Canvas>
                                    </Viewbox>
                                </StackPanel>

                                <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBlock Text="ホーム" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center" Padding="6 10 2 10">
                                    </TextBlock>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Left">
                                </StackPanel>

                                <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                </StackPanel>
                            </Grid>
                        </TabItem.Header>

                        <Grid>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- 検索ボックス -->
                            <TextBox x:Name="SearchTextBox" Grid.Row="0" Grid.Column="0" Text="{Binding SearchQuery, UpdateSourceTrigger=PropertyChanged}" HorizontalAlignment="Center" VerticalAlignment="Bottom" Width="600" Margin="12" KeyboardNavigation.TabNavigation="Local" IsVisibleChanged="TextBox_IsVisibleChanged">
                                <TextBox.Style>
                                    <Style TargetType="{x:Type TextBox}" BasedOn="{StaticResource DefaultTextBoxStyle}">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <ControlTemplate TargetType="{x:Type TextBox}">
                                                    <Border x:Name="border" Background="{TemplateBinding Background}" BorderThickness="{TemplateBinding BorderThickness}" BorderBrush="{TemplateBinding BorderBrush}" SnapsToDevicePixels="True">
                                                        <Grid>
                                                            <Grid.RowDefinitions>
                                                                <RowDefinition Height="*"/>
                                                            </Grid.RowDefinitions>
                                                            <Grid.ColumnDefinitions>
                                                                <ColumnDefinition Width="*"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                                <ColumnDefinition Width="Auto"/>
                                                            </Grid.ColumnDefinitions>
                                                            <ScrollViewer x:Name="PART_ContentHost" Focusable="false" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>

                                                            <StackPanel Grid.Column="1" Orientation="Horizontal" Margin="0" VerticalAlignment="Center">
                                                                <RadioButton x:Name="SearchTitleRadioButton" GroupName="SearchTags" Margin="0 0 0 0" Padding="5" Content="物件名" Width="80" IsChecked="{Binding Path=SelectedSearchTags, ConverterParameter={x:Static vms:SearchTags.Title}, Converter={StaticResource EnumBooleanConverter}}" Style="{DynamicResource SelectionRadioButtonStyle}"/>
                                                                <RadioButton x:Name="SearchArtistRadioButton" GroupName="SearchTags" Margin="0 0 0 0" Padding="5" Content="所在地" Width="80" IsChecked="{Binding Path=SelectedSearchTags, ConverterParameter={x:Static vms:SearchTags.Artist}, Converter={StaticResource EnumBooleanConverter}}" Style="{DynamicResource SelectionRadioButtonStyle}"/>
                                                                <RadioButton x:Name="SearchAlbumRadioButton" GroupName="SearchTags" Margin="0 0 0 0" Padding="5" Content="最寄り駅" Width="80" IsChecked="{Binding Path=SelectedSearchTags, ConverterParameter={x:Static vms:SearchTags.Album}, Converter={StaticResource EnumBooleanConverter}}" Style="{DynamicResource SelectionRadioButtonStyle}"/>
                                                            </StackPanel>

                                                            <Button Grid.Column="2" Height="22" Width="22" Margin="2 1 2 1" ToolTip="" Command="{Binding SearchExecCommand}" IsDefault="True" Content="M9.5,3A6.5,6.5 0 0,1 16,9.5C16,11.11 15.41,12.59 14.44,13.73L14.71,14H15.5L20.5,19L19,20.5L14,15.5V14.71L13.73,14.44C12.59,15.41 11.11,16 9.5,16A6.5,6.5 0 0,1 3,9.5A6.5,6.5 0 0,1 9.5,3M9.5,5C7,5 5,7 5,9.5C5,12 7,14 9.5,14C12,14 14,12 14,9.5C14,7 12,5 9.5,5Z">
                                                                <Button.Resources>
                                                                    <Style x:Key="ButtonIntextboxFocusVisual">
                                                                        <Setter Property="Control.Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate>
                                                                                    <Border>
                                                                                        <Rectangle Margin="2" StrokeThickness="1" Stroke="{DynamicResource ControlMediumColorBrush}" StrokeDashArray="1 2" />
                                                                                    </Border>
                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </Button.Resources>
                                                                <Button.Style>
                                                                    <Style TargetType="Button">
                                                                        <Setter Property="SnapsToDevicePixels" Value="true" />
                                                                        <Setter Property="OverridesDefaultStyle" Value="True" />
                                                                        <Setter Property="FocusVisualStyle" Value="{DynamicResource ButtonIntextboxFocusVisual}" />
                                                                        <Setter Property="Background" Value="{DynamicResource BoardBackgroundColorBrush}" />
                                                                        <Setter Property="Foreground" Value="{DynamicResource ControlForegroundColorBrush}"/>
                                                                        <Setter Property="Margin" Value="0" />
                                                                        <Setter Property="Padding" Value="0" />
                                                                        <Setter Property="Template">
                                                                            <Setter.Value>
                                                                                <ControlTemplate TargetType="Button">
                                                                                    <Border x:Name="Border" BorderThickness="1" Background="{TemplateBinding Background}" BorderBrush="{DynamicResource BorderDarkColorBrush}" CornerRadius="2">
                                                                                        <Path x:Name="PathIcon" Data="{Binding Content, RelativeSource={RelativeSource TemplatedParent}}" Stretch="Uniform" Stroke="Transparent" StrokeThickness="0" Margin="4" RenderTransformOrigin="0.5,0.5">
                                                                                            <Path.RenderTransform>
                                                                                                <TransformGroup>
                                                                                                    <TransformGroup.Children>
                                                                                                        <RotateTransform Angle="0" />
                                                                                                        <ScaleTransform ScaleX="1" ScaleY="1" />
                                                                                                    </TransformGroup.Children>
                                                                                                </TransformGroup>
                                                                                            </Path.RenderTransform>
                                                                                            <Path.Fill>
                                                                                                <SolidColorBrush x:Name="PathIconColor" Color="{DynamicResource ControlForegroundColor}"/>
                                                                                            </Path.Fill>
                                                                                        </Path>
                                                                                    </Border>
                                                                                    <ControlTemplate.Triggers>

                                                                                        <Trigger Property="IsEnabled" Value="False">
                                                                                            <Setter TargetName="PathIcon" Property="Fill" Value="{DynamicResource DisabledForegroundColorBrush}"/>
                                                                                        </Trigger>

                                                                                        <Trigger Property="IsMouseOver" Value="true">
                                                                                            <Setter TargetName="PathIcon" Property="Fill" Value="{DynamicResource ControlMouseOverColorBrush}"/>
                                                                                        </Trigger>

                                                                                    </ControlTemplate.Triggers>

                                                                                </ControlTemplate>
                                                                            </Setter.Value>
                                                                        </Setter>
                                                                    </Style>
                                                                </Button.Style>

                                                            </Button>

                                                        </Grid>
                                                    </Border>
                                                    <ControlTemplate.Triggers>
                                                        <Trigger Property="IsEnabled" Value="false">
                                                            <Setter Property="Opacity" TargetName="border" Value="0.56"/>
                                                        </Trigger>
                                                        <Trigger Property="IsMouseOver" Value="true">
                                                            <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource ControlMouseOverColorBrush}"/>
                                                        </Trigger>
                                                        <Trigger Property="IsKeyboardFocused" Value="true">
                                                            <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource ControlPressedColorBrush}"/>
                                                        </Trigger>
                                                    </ControlTemplate.Triggers>
                                                </ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                        <Style.Triggers>
                                            <MultiTrigger>
                                                <MultiTrigger.Conditions>
                                                    <Condition Property="IsInactiveSelectionHighlightEnabled" Value="true"/>
                                                    <Condition Property="IsSelectionActive" Value="false"/>
                                                </MultiTrigger.Conditions>
                                                <Setter Property="SelectionBrush" Value="{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightBrushKey}}"/>
                                            </MultiTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBox.Style>
                            </TextBox>


                            <Grid Grid.Row="1" Grid.Column="0" x:Name="RentLivingSearchListViewDummy" Visibility="Hidden" Margin="0 0 27 0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0"/>
                                    <ColumnDefinition Width="3*"/>
                                    <ColumnDefinition Width="100" />
                                    <ColumnDefinition Width="4*"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="2*"/>
                                </Grid.ColumnDefinitions>

                                <!--  This is the hidden helper Field which is used to bind to, using the "Fill" column of the helper grid  -->
                                <Grid x:Name="RLSWidth0" Grid.Column="0" />
                                <Grid x:Name="RLSWidth1" Grid.Column="1" />
                                <Grid x:Name="RLSWidth2" Grid.Column="2" />
                                <Grid x:Name="RLSWidth3" Grid.Column="3" />
                                <Grid x:Name="RLSWidth4" Grid.Column="4" />
                                <Grid x:Name="RLSWidth5" Grid.Column="5" />
                                <Grid x:Name="RLSWidth6" Grid.Column="6" />
                            </Grid>

                            <ListView Grid.Row="1" Grid.Column="0" x:Name="RentLivingSearchListView" Background="Transparent" helper:GridViewSort.AutoSort="True" helper:GridViewSort.ShowSortGlyph="True" IsSynchronizedWithCurrentItem="True" AlternationCount="2" MinHeight="80" BorderThickness="0" Padding="0 0 0 0" Margin="0 0 0 0" SelectionMode="Extended" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Visible">
                                <ListView.Resources>
                                    <ContextMenu x:Key="RLSearchItemContextMenu">
                                        <MenuItem Header="選択アイテム">

                                        </MenuItem>
                                    </ContextMenu>
                                    <Style TargetType="{x:Type ScrollBar}">
                                        <Setter Property="Margin" Value="0,0,0,0" />
                                        <Setter Property="BorderThickness" Value="0" />
                                        <Style.Triggers>
                                            <Trigger Property="Orientation" Value="Vertical">
                                                <Setter Property="Width" Value="18"/>
                                                <Setter Property="Height" Value="Auto" />
                                                <Setter Property="Template" Value="{StaticResource VerticalScrollBar}" />
                                            </Trigger>
                                        </Style.Triggers>
                                    </Style>
                                </ListView.Resources>
                                <ListView.ItemContainerStyle>
                                    <Style TargetType="ListViewItem" BasedOn="{StaticResource ListViewItemStyle}">
                                        <Setter Property="Margin" Value="1 0 0 0"/>
                                        <Setter Property="Padding" Value="0 1 0 1"/>
                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                        <Setter Property="ContextMenu" Value="{StaticResource RLSearchItemContextMenu}" />
                                    </Style>
                                </ListView.ItemContainerStyle>

                                <ListView.View>
                                    <GridView>
                                        <GridView.ColumnHeaderContainerStyle>
                                            <Style TargetType="GridViewColumnHeader" BasedOn="{StaticResource GridViewColumnHeaderStyle}">
                                                <Setter Property="Visibility" Value="Visible" />
                                            </Style>
                                        </GridView.ColumnHeaderContainerStyle>

                                        <GridViewColumn Header="ID" Width="{Binding ElementName=RLSWidth0, Path=ActualWidth}">

                                        </GridViewColumn>

                                        <GridViewColumn Header="物件名" Width="{Binding ElementName=RLSWidth1, Path=ActualWidth}">

                                        </GridViewColumn>

                                        <GridViewColumn Header="〒" Width="{Binding ElementName=RLSWidth2, Path=ActualWidth}">

                                        </GridViewColumn>

                                        <GridViewColumn Header="所在地" Width="{Binding ElementName=RLSWidth3, Path=ActualWidth}">

                                        </GridViewColumn>

                                        <GridViewColumn Header="最寄り駅1" Width="{Binding ElementName=RLSWidth4, Path=ActualWidth}">

                                        </GridViewColumn>

                                        <GridViewColumn Header="最寄り駅2" Width="{Binding ElementName=RLSWidth5, Path=ActualWidth}">

                                        </GridViewColumn>
                                        
                                        <GridViewColumn Header="最終更新日" Width="{Binding ElementName=RLSWidth6, Path=ActualWidth}">

                                        </GridViewColumn>
                                    </GridView>
                                </ListView.View>

                            </ListView>

                        </Grid>


                    </TabItem>

                    <!-- 賃貸住居用 -->
                    <TabItem x:Name="RL_Tab" Width="150" Style="{StaticResource NoChromeTabHeader}">
                        <TabItem.Header>
                            <Grid Width="190">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                                    <Viewbox Margin="16" HorizontalAlignment="Left" VerticalAlignment="Center" Stretch="Uniform" Width="18" Height="18">
                                        <Canvas Opacity="1" Width="12" Height="12" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Path Fill="{Binding ElementName=RL_Tab,Path=Foreground}" Stretch="Uniform" Width="12" Height="12" Data="M182.981 112.854c-7.3-5.498-17.699-7.697-17.699-7.697s8.8-5.102 12.396-10.199  c3.6-5.099 5.399-12.999 5.7-17.098c0.299-4.101 1-21.296-12.399-31.193c-10.364-7.658-22.241-10.698-38.19-11.687V0.278h-21.396  V34.57c-4.774 0-10.353 0-16.297 0V0.278H73.702V34.57c-21.841 0-42.092 0-42.092 0v22.219c0 0 8.998 0 12.372 0  c3.373 0 9.372 0.375 11.921 3.228c2.55 2.848 3 4.349 3 9.895c0 5.548 0.001 86.435 0.001 88.535c0 2.099-0.4 4.697-2.201 6.398  c-1.798 1.701-3.597 2.098-7.898 2.098c-4.3 0-12.796 0-12.796 0l-4.399 25.698c0 0 20.918 0 42.092 0v34.195h21.395v-34.195  c6.574 0 12.298 0 16.297 0v34.195h21.396v-34.759c5.531-0.323 10.688-0.742 13.696-1.136c6.1-0.798 19.896-2.398 32.796-11.397  c12.896-9 15.793-23.098 16.094-37.294C195.68 128.053 190.274 118.353 182.981 112.854z M95.096 58.766  c0 0 6.798-0.599 13.497-0.501c6.701 0.099 12.597 0.3 21.398 3c8.797 2.701 13.992 9.3 14.196 17.099  c0.199 7.799-3.204 12.996-9.2 16.296c-5.998 3.299-14.292 5.099-22.094 5.396c-7.797 0.301-17.797 0-17.797 0V58.766z   M142.986 161.045c-4.899 2.701-14.698 5.1-24.194 5.798c-9.499 0.701-23.696 0.401-23.696 0.401v-45.893c0 0 13.598-0.698 24.197 0  c10.597 0.703 19.495 3.4 23.492 5.403c3.999 1.998 11 6.396 11 16.896C153.785 154.146 147.882 158.346 142.986 161.045z"/>
                                        </Canvas>
                                    </Viewbox>
                                </StackPanel>

                                <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBlock Text="賃貸住居用" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center" Padding="6 10 2 10">
                                    </TextBlock>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Left">
                                </StackPanel>

                                <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                </StackPanel>
                            </Grid>
                        </TabItem.Header>

                        <TabControl TabStripPlacement="Top" Margin="6" SelectedIndex="{Binding ShowRentLivingTabActiveIndex, Mode=TwoWay}">

                            <TabItem Header="賃貸住居用物件" Width="120" Visibility="{Binding ShowRentLivingSearchList, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <Grid Visibility="{Binding ShowRentLivingSearchList, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <Grid Grid.Row="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBox Text="{Binding RentLivingEditSearchText, UpdateSourceTrigger=PropertyChanged}" Grid.Row="0" Grid.Column="0" Width="212" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></TextBox>

                                        <Button Content="検索" Command="{Binding RentLivingEditSearchCommand}" Grid.Row="0" Grid.Column="1" IsDefault="True" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                        <Button Content="一覧" Command="{Binding RentLivingEditListCommand}" Grid.Row="0" Grid.Column="2" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                    </Grid>

                                    <Grid Grid.Row="1">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Button x:Name="ButtonAddRL" Content="新規追加" Command="{Binding RentLivingNewCommand}" Grid.Row="0" Grid.Column="0" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                        <Button x:Name="ButtonEditRL" Content="編集" Command="{Binding RentLivingEditSelectedEditCommand}" Grid.Row="0" Grid.Column="2" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                        <Button x:Name="ButtonDeleteRL" Content="削除" Command="{Binding RentLivingEditSelectedDeleteCommand}" Grid.Row="0" Grid.Column="3" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                    </Grid>

                                    <Grid x:Name="RentLivingEditListViewDummy" Grid.Row="2" Grid.Column="0" Visibility="Hidden" Margin="0 0 27 0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="90" />
                                            <ColumnDefinition Width="4*"/>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="2*"/>
                                        </Grid.ColumnDefinitions>

                                        <!--  This is the hidden helper Field which is used to bind to, using the "Fill" column of the helper grid  -->
                                        <Grid x:Name="RLEWidth0" Grid.Column="0" />
                                        <Grid x:Name="RLEWidth1" Grid.Column="1" />
                                        <Grid x:Name="RLEWidth2" Grid.Column="2" />
                                        <Grid x:Name="RLEWidth3" Grid.Column="3" />
                                        <Grid x:Name="RLEWidth4" Grid.Column="4" />
                                        <Grid x:Name="RLEWidth5" Grid.Column="5" />
                                    </Grid>

                                    <ListView Grid.Row="2" Grid.Column="0" x:Name="RentLivingEditListView" Background="Transparent" ItemsSource="{Binding EditRents}" SelectedItem="{Binding RentLivingEditSelectedItem, Mode=TwoWay}" SelectionMode="Extended" helper:GridViewSort.AutoSort="True" helper:GridViewSort.ShowSortGlyph="True" IsSynchronizedWithCurrentItem="True" AlternationCount="2" MinHeight="80" BorderThickness="0" Padding="0 0 0 0" Margin="0 0 0 0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Visible">
                                        <ListView.Resources>
                                            <ContextMenu x:Key="RLEditItemContextMenu">
                                                <MenuItem Header="選択アイテム">

                                                </MenuItem>
                                            </ContextMenu>
                                            <Style TargetType="{x:Type ScrollBar}">
                                                <Setter Property="Margin" Value="0,0,0,0" />
                                                <Setter Property="BorderThickness" Value="0" />
                                                <Style.Triggers>
                                                    <Trigger Property="Orientation" Value="Vertical">
                                                        <Setter Property="Width" Value="18"/>
                                                        <Setter Property="Height" Value="Auto" />
                                                        <Setter Property="Template" Value="{StaticResource VerticalScrollBar}" />
                                                    </Trigger>
                                                </Style.Triggers>
                                            </Style>
                                        </ListView.Resources>
                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem" BasedOn="{StaticResource ListViewItemStyle}">
                                                <Setter Property="Margin" Value="1 0 0 0"/>
                                                <Setter Property="Padding" Value="0 1 0 1"/>
                                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                <Setter Property="ContextMenu" Value="{StaticResource RLEditItemContextMenu}" />
                                            </Style>
                                        </ListView.ItemContainerStyle>

                                        <ListView.View>
                                            <GridView>
                                                <GridView.ColumnHeaderContainerStyle>
                                                    <Style TargetType="GridViewColumnHeader" BasedOn="{StaticResource GridViewColumnHeaderStyle}">
                                                        <Setter Property="Visibility" Value="Visible" />
                                                    </Style>
                                                </GridView.ColumnHeaderContainerStyle>
                                                <GridViewColumn Header="ID" Width="{Binding ElementName=RLEWidth0, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="RLID" Text="{Binding Rent_ID, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="物件名" Width="{Binding ElementName=RLEWidth1, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="RLName" Text="{Binding Name, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="〒" Width="{Binding ElementName=RLEWidth2, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="RLName" Text="{Binding PostalCode, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="所在地" Width="{Binding ElementName=RLEWidth3, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="RLLocation" Text="{Binding Location, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="最寄り駅1" Width="{Binding ElementName=RLEWidth4, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="RLStation1" Text="{Binding TrainStation1, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="最寄り駅2" Width="{Binding ElementName=RLEWidth5, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock x:Name="RLStation2" Text="{Binding TrainStation2, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>
                                            </GridView>
                                        </ListView.View>

                                    </ListView>

                                </Grid>

                            </TabItem>

                            <TabItem Header="物件新規追加" Width="120" Visibility="{Binding ShowRentLivingNew, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <!-- 賃貸物件住居用の追加 -->
                                <Grid x:Name="GridNewAddRL">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <TabControl Grid.Row="0">

                                        <TabItem Header="建物情報" Width="120">
                                            <ScrollViewer>
                                                <StackPanel>

                                                    <Label Content="物件名："/>
                                                    <TextBox Text="{Binding RentLivingNew.Name}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="〒："/>
                                                    <TextBox Text="{Binding RentLivingNew.PostalCode}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="所在地："/>
                                                    <TextBox Text="{Binding RentLivingNew.Location}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="最寄り駅１："/>
                                                    <TextBox Text="{Binding RentLivingNew.TrainStation1}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="最寄り駅２："/>
                                                    <TextBox Text="{Binding RentLivingNew.TrainStation2}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                    <GroupBox Header="物件種別" Margin="10" Padding="10">
                                                        <StackPanel Orientation="Horizontal">
                                                            <RadioButton x:Name="RadioButtonRLKindApart" Content="アパート" GroupName="RentLivingKind" IsChecked="{Binding Path=RentLivingNew.Kind, ConverterParameter={x:Static vms:RentLivingKinds.Apartment}, Converter={StaticResource EnumBooleanConverter}}" Margin="3"/>
                                                            <RadioButton x:Name="RadioButtonRLKindMansion" Content="マンション" GroupName="RentLivingKind" IsChecked="{Binding Path=RentLivingNew.Kind, ConverterParameter={x:Static vms:RentLivingKinds.Mansion}, Converter={StaticResource EnumBooleanConverter}}" Margin="3"/>
                                                            <RadioButton x:Name="RadioButtonRLKindHouse" Content="戸建て" GroupName="RentLivingKind" IsChecked="{Binding Path=RentLivingNew.Kind, ConverterParameter={x:Static vms:RentLivingKinds.House}, Converter={StaticResource EnumBooleanConverter}}" Margin="3"/>
                                                            <RadioButton x:Name="RadioButtonRLKindOther" Content="その他" GroupName="RentLivingKind" IsChecked="{Binding Path=RentLivingNew.Kind, ConverterParameter={x:Static vms:RentLivingKinds.Other}, Converter={StaticResource EnumBooleanConverter}}" Margin="3"/>
                                                        </StackPanel>
                                                    </GroupBox>

                                                    <GroupBox Header="物件所有権" Margin="10" Padding="10">
                                                        <StackPanel Orientation="Horizontal">
                                                            <RadioButton Content="一棟所有" Margin="3" GroupName="RentOwnership" IsChecked="{Binding Path=RentLivingNew.Ownership, ConverterParameter={x:Static vms:RentOwnerships.All}, Converter={StaticResource EnumBooleanConverter}}"></RadioButton>
                                                            <RadioButton Content="区分所有" Margin="3" GroupName="RentOwnership" IsChecked="{Binding Path=RentLivingNew.Ownership, ConverterParameter={x:Static vms:RentOwnerships.Unit}, Converter={StaticResource EnumBooleanConverter}}"></RadioButton>
                                                        </StackPanel>
                                                    </GroupBox>

                                                    <Label Content="階建て："/>
                                                    <TextBox Text="{Binding RentLivingNew.Floors}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="地下階数："/>
                                                    <TextBox Text="{Binding RentLivingNew.FloorsBasement}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="築年（例 2007）："/>
                                                    <TextBox Text="{Binding RentLivingNew.BuiltYear}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                    <!-- 建物写真の追加 -->
                                                    <GroupBox Header="物件外観写真" Margin="10" Padding="10">
                                                        <StackPanel HorizontalAlignment="Left">

                                                            <StackPanel Orientation="Horizontal">
                                                                <Button Width="130" Margin="3" Command="{Binding RentLivingNewPictureAddCommand}">写真の追加</Button>
                                                            </StackPanel>

                                                            <ListView ItemsSource="{Binding RentLivingNew.RentLivingPictures}" Height="160" Width="450" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                                                <ListView.Resources>
                                                                    <ContextMenu x:Key="ATItemContextMenu">
                                                                        <MenuItem Header="削除" Command="{Binding Path=DataContext.RentLivingNewPictureDeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                            <MenuItem.Resources>
                                                                                <ControlTemplate x:Key="CancelIcon">
                                                                                    <Canvas Background="Transparent" >
                                                                                        <Path Fill="#373737" Width="14.3775" Height="14" Canvas.Left="0.311264" Canvas.Top="0.500005" Stretch="Uniform" Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />
                                                                                    </Canvas>
                                                                                </ControlTemplate>
                                                                            </MenuItem.Resources>
                                                                            <MenuItem.Icon>
                                                                                <ContentControl Template="{StaticResource CancelIcon}" />
                                                                            </MenuItem.Icon>
                                                                        </MenuItem>
                                                                    </ContextMenu>
                                                                </ListView.Resources>
                                                                <ListView.ItemContainerStyle>
                                                                    <Style TargetType="ListViewItem">
                                                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                                        <Setter Property="ContextMenu" Value="{StaticResource ATItemContextMenu}" />
                                                                    </Style>
                                                                </ListView.ItemContainerStyle>
                                                                <ListView.ItemsPanel>
                                                                    <ItemsPanelTemplate>
                                                                        <WrapPanel/>
                                                                    </ItemsPanelTemplate>
                                                                </ListView.ItemsPanel>
                                                                <ListView.ItemTemplate>
                                                                    <DataTemplate>
                                                                        <Grid Width="200" Height="150">
                                                                            <Image Source="{Binding Picture}" Stretch="Uniform"></Image>
                                                                            <TextBlock Text="hoge"></TextBlock>
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </ListView.ItemTemplate>
                                                            </ListView>

                                                        </StackPanel>
                                                    </GroupBox>

                                                </StackPanel>
                                            </ScrollViewer>
                                        </TabItem>

                                        <TabItem Header="部屋情報" Width="120">

                                            <TabControl SelectedIndex="{Binding ShowRentLivingNewSectionTabActiveIndex, Mode=TwoWay}">

                                                <TabItem Header="部屋一覧" Visibility="{Binding ShowRentLivingNewSectionList, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                                                    <StackPanel>

                                                        <StackPanel Orientation="Horizontal">

                                                            <Button Width="130" Margin="3" HorizontalAlignment="Left" Command="{Binding RentLivingNewSectionNewCommand}">部屋の追加</Button>
                                                            <Button Width="130" Margin="3" HorizontalAlignment="Left" Command="{Binding RentLivingNewSectionEditCommand}">部屋の編集</Button>
                                                            <Button Width="130" Margin="3" HorizontalAlignment="Left" Command="{Binding RentLivingNewSectionDuplicateCommand}">部屋の複製</Button>
                                                            <Button Width="130" Margin="3" HorizontalAlignment="Left" Command="{Binding RentLivingNewSectionDeleteCommand}">部屋の削除</Button>

                                                        </StackPanel>

                                                        <ListView  Margin="3" ItemsSource="{Binding RentLivingNew.RentLivingSections}" SelectedItem="{Binding RentLivingNewSectionSelectedItem}">
                                                            <ListView.View>
                                                                <GridView>
                                                                    <GridViewColumn Header="ID" Width="120">
                                                                        <GridViewColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <TextBlock Text="{Binding RentLivingSection_ID, Mode=OneWay}" Padding="3"/>
                                                                            </DataTemplate>
                                                                        </GridViewColumn.CellTemplate>
                                                                    </GridViewColumn>
                                                                    <GridViewColumn Header="部屋番号" Width="120">
                                                                        <GridViewColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <TextBlock Text="{Binding RentLivingSectionRoomNumber, Mode=OneWay}" Padding="3"/>
                                                                            </DataTemplate>
                                                                        </GridViewColumn.CellTemplate>
                                                                    </GridViewColumn>
                                                                    <GridViewColumn Header="賃料" Width="120">
                                                                        <GridViewColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <TextBlock Text="{Binding RentLivingSectionPrice, Mode=OneWay}" Padding="3"/>
                                                                            </DataTemplate>
                                                                        </GridViewColumn.CellTemplate>
                                                                    </GridViewColumn>
                                                                    <GridViewColumn Header="間取り" Width="120">
                                                                        <GridViewColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <TextBlock Text="{Binding RentLivingSectionMadori, Mode=OneWay}" Padding="3"/>
                                                                            </DataTemplate>
                                                                        </GridViewColumn.CellTemplate>
                                                                    </GridViewColumn>
                                                                </GridView>
                                                            </ListView.View>
                                                        </ListView>

                                                    </StackPanel>
                                                </TabItem>

                                                <TabItem Header="部屋新規登録" Visibility="{Binding ShowRentLivingNewSectionNew, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                                                    <Grid>

                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>

                                                        <ScrollViewer Grid.Row="0">
                                                            <StackPanel>

                                                                <Label Content="部屋番号："/>
                                                                <TextBox Text="{Binding RentLivingNewSectionNew.RentLivingSectionRoomNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                                <Label Content="間取り："/>
                                                                <TextBox Text="{Binding RentLivingNewSectionNew.RentLivingSectionMadori}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                                <Label Content="賃料："/>
                                                                <TextBox Text="{Binding RentLivingNewSectionNew.RentLivingSectionPrice}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                                <!-- 部屋写真 -->
                                                                <GroupBox Header="部屋写真" Margin="10" Padding="10">
                                                                    <StackPanel HorizontalAlignment="Left">

                                                                        <StackPanel Orientation="Horizontal">
                                                                            <Button Width="130" Margin="3" Command="{Binding RentLivingNewSectionNewPictureAddCommand}">写真の追加</Button>
                                                                        </StackPanel>

                                                                        <ListView ItemsSource="{Binding RentLivingNewSectionNew.RentLivingSectionPictures}" Height="160" Width="450" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                                                            <ListView.Resources>
                                                                                <ContextMenu x:Key="ATItemContextMenu">
                                                                                    <MenuItem Header="削除" Command="{Binding Path=DataContext.RentLivingNewSectionNewPictureDeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                                        <MenuItem.Resources>
                                                                                            <ControlTemplate x:Key="CancelIcon">
                                                                                                <Canvas Background="Transparent" >
                                                                                                    <Path Fill="#373737" Width="14.3775" Height="14" Canvas.Left="0.311264" Canvas.Top="0.500005" Stretch="Uniform" Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />
                                                                                                </Canvas>
                                                                                            </ControlTemplate>
                                                                                        </MenuItem.Resources>
                                                                                        <MenuItem.Icon>
                                                                                            <ContentControl Template="{StaticResource CancelIcon}" />
                                                                                        </MenuItem.Icon>
                                                                                    </MenuItem>
                                                                                </ContextMenu>
                                                                            </ListView.Resources>
                                                                            <ListView.ItemContainerStyle>
                                                                                <Style TargetType="ListViewItem">
                                                                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                                                    <Setter Property="ContextMenu" Value="{StaticResource ATItemContextMenu}" />
                                                                                </Style>
                                                                            </ListView.ItemContainerStyle>
                                                                            <ListView.ItemsPanel>
                                                                                <ItemsPanelTemplate>
                                                                                    <WrapPanel/>
                                                                                </ItemsPanelTemplate>
                                                                            </ListView.ItemsPanel>
                                                                            <ListView.ItemTemplate>
                                                                                <DataTemplate>
                                                                                    <Grid Width="200" Height="150">
                                                                                        <Image Source="{Binding Picture}" Stretch="Uniform"></Image>
                                                                                        <TextBlock Text="hoge"></TextBlock>
                                                                                    </Grid>
                                                                                </DataTemplate>
                                                                            </ListView.ItemTemplate>
                                                                        </ListView>

                                                                    </StackPanel>
                                                                </GroupBox>

                                                            </StackPanel>
                                                        </ScrollViewer>

                                                        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="3 12 3 3" HorizontalAlignment="Right">
                                                            <Button Width="130" Margin="6" Padding="6" HorizontalAlignment="Left" Command="{Binding RentLivingNewSectionAddCommand}">部屋の登録</Button>
                                                            <Button Width="130" Margin="6" Padding="6" HorizontalAlignment="Left" Command="{Binding RentLivingNewSectionNewCancelCommand}">キャンセル</Button>
                                                        </StackPanel>

                                                    </Grid>
                                                </TabItem>

                                                <TabItem Header="部屋編集更新" Visibility="{Binding ShowRentLivingNewSectionEdit, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                                                    <Grid>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>

                                                        <ScrollViewer Grid.Row="0">
                                                            <StackPanel>

                                                                <Label Content="部屋番号："/>
                                                                <TextBox Text="{Binding RentLivingNewSectionEdit.RentLivingSectionRoomNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                                <Label Content="間取り："/>
                                                                <TextBox Text="{Binding RentLivingNewSectionEdit.RentLivingSectionMadori}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                                <Label Content="賃料："/>
                                                                <TextBox Text="{Binding RentLivingNewSectionEdit.RentLivingSectionPrice}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                                <!-- 部屋写真 -->
                                                                <GroupBox Header="部屋写真" Margin="10" Padding="10">
                                                                    <StackPanel HorizontalAlignment="Left">

                                                                        <StackPanel Orientation="Horizontal">
                                                                            <Button Width="130" Margin="3" Command="{Binding RentLivingNewSectionEditPictureAddCommand}">写真の追加</Button>
                                                                        </StackPanel>

                                                                        <ListView ItemsSource="{Binding RentLivingNewSectionEdit.RentLivingSectionPictures}" Height="160" Width="450" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                                                            <ListView.Resources>
                                                                                <ContextMenu x:Key="ATItemContextMenu">
                                                                                    <MenuItem Header="削除" Command="{Binding Path=DataContext.RentLivingNewSectionEditPictureDeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                                        <MenuItem.Resources>
                                                                                            <ControlTemplate x:Key="CancelIcon">
                                                                                                <Canvas Background="Transparent" >
                                                                                                    <Path Fill="#373737" Width="14.3775" Height="14" Canvas.Left="0.311264" Canvas.Top="0.500005" Stretch="Uniform" Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />
                                                                                                </Canvas>
                                                                                            </ControlTemplate>
                                                                                        </MenuItem.Resources>
                                                                                        <MenuItem.Icon>
                                                                                            <ContentControl Template="{StaticResource CancelIcon}" />
                                                                                        </MenuItem.Icon>
                                                                                    </MenuItem>
                                                                                </ContextMenu>
                                                                            </ListView.Resources>
                                                                            <ListView.ItemContainerStyle>
                                                                                <Style TargetType="ListViewItem">
                                                                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                                                    <Setter Property="ContextMenu" Value="{StaticResource ATItemContextMenu}" />
                                                                                </Style>
                                                                            </ListView.ItemContainerStyle>
                                                                            <ListView.ItemsPanel>
                                                                                <ItemsPanelTemplate>
                                                                                    <WrapPanel/>
                                                                                </ItemsPanelTemplate>
                                                                            </ListView.ItemsPanel>
                                                                            <ListView.ItemTemplate>
                                                                                <DataTemplate>
                                                                                    <Grid Width="200" Height="150">
                                                                                        <Image Source="{Binding Picture}" Stretch="Uniform"></Image>
                                                                                        <TextBlock Text="hoge"></TextBlock>
                                                                                    </Grid>
                                                                                </DataTemplate>
                                                                            </ListView.ItemTemplate>
                                                                        </ListView>

                                                                    </StackPanel>
                                                                </GroupBox>

                                                            </StackPanel>
                                                        </ScrollViewer>

                                                        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="3 12 3 3" HorizontalAlignment="Right">
                                                            <Button Width="130" Margin="6" Padding="6" HorizontalAlignment="Left" Command="{Binding RentLivingNewSectionUpdateCommand}">部屋の更新</Button>
                                                            <Button Width="130" Margin="6" Padding="6" HorizontalAlignment="Left" Command="{Binding RentLivingNewSectionEditCancelCommand}">キャンセル</Button>
                                                        </StackPanel>
                                                    </Grid>

                                                </TabItem>

                                            </TabControl>

                                        </TabItem>

                                        <TabItem Header="元付け業者" Width="120">
                                            <ScrollViewer>
                                                <StackPanel>

                                                </StackPanel>
                                            </ScrollViewer>
                                        </TabItem>

                                        <TabItem Header="管理会社" Width="120">

                                        </TabItem>

                                        <TabItem Header="オーナー" Width="120">

                                        </TabItem>

                                        <TabItem Header="募集図面" Width="120">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <StackPanel Grid.Row="0" Orientation="Horizontal">
                                                    <Button Width="130" Margin="3" Command="{Binding RentLivingNewZumenPdfAddCommand}">図面の追加</Button>
                                                </StackPanel>

                                                <!--
                                            <wv2:WebView2 Grid.Row="1" Name="webView" Source="https://www.microsoft.com"/>
                                            -->

                                                <ListView Grid.Row="1" ItemsSource="{Binding RentLivingNew.RentLivingZumenPDFs}" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                                    <ListView.InputBindings>
                                                        <!-- エンター!! -->
                                                        <KeyBinding Key="Enter" Command="{Binding Path=DataContext.RentLivingNewZumenPdfEnterCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItem, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" />
                                                    </ListView.InputBindings>
                                                    <ListView.Resources>
                                                        <ContextMenu x:Key="ATItemContextMenu">
                                                            <MenuItem Header="表示" Command="{Binding Path=DataContext.RentLivingNewZumenPdfShowCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}"></MenuItem>
                                                            <Separator/>
                                                            <MenuItem Header="削除" Command="{Binding Path=DataContext.RentLivingNewZumenPdfDeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                <MenuItem.Resources>
                                                                    <ControlTemplate x:Key="CancelIcon">
                                                                        <Canvas Background="Transparent" >
                                                                            <Path Fill="#373737" Width="14.3775" Height="14" Canvas.Left="0.311264" Canvas.Top="0.500005" Stretch="Uniform" Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />
                                                                        </Canvas>
                                                                    </ControlTemplate>
                                                                </MenuItem.Resources>
                                                                <MenuItem.Icon>
                                                                    <ContentControl Template="{StaticResource CancelIcon}" />
                                                                </MenuItem.Icon>
                                                            </MenuItem>
                                                        </ContextMenu>
                                                    </ListView.Resources>
                                                    <ListView.ItemContainerStyle>
                                                        <Style TargetType="ListViewItem">
                                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                            <Setter Property="ContextMenu" Value="{StaticResource ATItemContextMenu}" />
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                                        <Border Name="Border" Margin="{TemplateBinding Margin}" Padding="{TemplateBinding Padding}" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" ClipToBounds="{TemplateBinding ClipToBounds}" CornerRadius="0" SnapsToDevicePixels="true">
                                                                            <GridViewRowPresenter VerticalAlignment="{TemplateBinding VerticalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />

                                                                            <Border.InputBindings>
                                                                                <!-- ダブルクリック!! -->
                                                                                <MouseBinding Command="{Binding Path=DataContext.RentLivingNewZumenPdfEnterCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItem, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" Gesture="LeftDoubleClick" />
                                                                            </Border.InputBindings>
                                                                        </Border>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Style.Triggers>
                                                                <Trigger Property="ItemsControl.AlternationIndex" Value="0">
                                                                    <Setter Property="BorderThickness" Value="1" />
                                                                </Trigger>
                                                                <Trigger Property="ItemsControl.AlternationIndex" Value="1">
                                                                    <Setter Property="BorderThickness" Value="1" />
                                                                </Trigger>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="TextElement.FontWeight" Value="SemiBold"/>
                                                                    <Setter Property="BorderThickness" Value="1" />
                                                                </Trigger>
                                                                <Trigger Property="IsSelected" Value="True">
                                                                    <Setter Property="TextElement.FontWeight" Value="Bold"/>
                                                                    <Setter Property="BorderThickness" Value="1" />
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ListView.ItemContainerStyle>
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridViewColumn Header="ID" Width="120">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding RentZumenPDF_ID, Mode=OneWay}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="登録日" Width="150">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding DateTimeAdded, Mode=OneWay, StringFormat=yyyy/MM/dd HH:mm:ss}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="情報公開日" Width="150">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding DateTimePublished, Mode=OneWay, StringFormat=yyyy/MM/dd HH:mm:ss}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="最終確認日" Width="150">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding DateTimeVerified, Mode=OneWay, StringFormat=yyyy/MM/dd HH:mm:ss}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="ファイルサイズ" Width="120">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding FileSizeLabel, Mode=OneWay}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            </Grid>
                                        </TabItem>

                                    </TabControl>

                                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button Command="{Binding RentLivingNewAddCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">物件の登録</Button>
                                        <Button Command="{Binding RentLivingNewCancelCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">キャンセル</Button>
                                    </StackPanel>
                                </Grid>

                            </TabItem>

                            <TabItem Header="物件編集更新" Width="120" Visibility="{Binding ShowRentLivingEdit, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <!-- 賃貸物件住居用の編集 -->
                                <Grid x:Name="GridEditUpdateRL">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <TabControl Grid.Row="0">

                                        <TabItem Header="建物情報" Width="120">
                                            <ScrollViewer>
                                                <StackPanel>
                                                    <Label Content="物件名："/>
                                                    <TextBox Text="{Binding RentLivingEdit.Name}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="〒："/>
                                                    <TextBox Text="{Binding RentLivingEdit.PostalCode}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="所在地："/>
                                                    <TextBox Text="{Binding RentLivingEdit.Location}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="最寄り駅１："/>
                                                    <TextBox Text="{Binding RentLivingEdit.TrainStation1}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="最寄り駅２："/>
                                                    <TextBox Text="{Binding RentLivingEdit.TrainStation2}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>


                                                    <GroupBox Header="物件種別" Margin="10" Padding="10">
                                                        <StackPanel Orientation="Horizontal">
                                                            <RadioButton x:Name="RadioButtonRLKindApartEdit" Content="アパート" GroupName="RentLivingKind" IsChecked="{Binding Path=RentLivingEdit.Kind, ConverterParameter={x:Static vms:RentLivingKinds.Apartment}, Converter={StaticResource EnumBooleanConverter}}" Margin="3"/>
                                                            <RadioButton x:Name="RadioButtonRLKindMansionEdit" Content="マンション" GroupName="RentLivingKind" IsChecked="{Binding Path=RentLivingEdit.Kind, ConverterParameter={x:Static vms:RentLivingKinds.Mansion}, Converter={StaticResource EnumBooleanConverter}}" Margin="3"/>
                                                            <RadioButton x:Name="RadioButtonRLKindHouseEdit" Content="戸建て" GroupName="RentLivingKind" IsChecked="{Binding Path=RentLivingEdit.Kind, ConverterParameter={x:Static vms:RentLivingKinds.House}, Converter={StaticResource EnumBooleanConverter}}" Margin="3"/>
                                                            <RadioButton x:Name="RadioButtonRLKindOtherEdit" Content="その他" GroupName="RentLivingKind" IsChecked="{Binding Path=RentLivingEdit.Kind, ConverterParameter={x:Static vms:RentLivingKinds.Other}, Converter={StaticResource EnumBooleanConverter}}" Margin="3"/>
                                                        </StackPanel>
                                                    </GroupBox>
                                                    <Label Content="階建て："/>
                                                    <TextBox Text="{Binding RentLivingEdit.Floors}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="地下階数："/>
                                                    <TextBox Text="{Binding RentLivingEdit.FloorsBasement}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="築年（例 2007）："/>
                                                    <TextBox Text="{Binding RentLivingEdit.BuiltYear}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>


                                                    <GroupBox Header="物件外観写真" Margin="10" Padding="10">
                                                        <StackPanel HorizontalAlignment="Left">

                                                            <StackPanel Orientation="Horizontal">
                                                                <Button Width="130" Margin="3" Command="{Binding RentLivingEditPictureAddCommand}">写真の追加</Button>
                                                            </StackPanel>

                                                            <ListView ItemsSource="{Binding RentLivingEdit.RentLivingPictures}" Height="160" Width="450" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                                                <ListView.Resources>
                                                                    <ContextMenu x:Key="ATItemContextMenu">
                                                                        <MenuItem Header="削除" Command="{Binding Path=DataContext.RentLivingEditPictureDeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                            <MenuItem.Resources>
                                                                                <ControlTemplate x:Key="CancelIcon">
                                                                                    <Canvas Background="Transparent" >
                                                                                        <Path Fill="#373737" Width="14.3775" Height="14" Canvas.Left="0.311264" Canvas.Top="0.500005" Stretch="Uniform" Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />
                                                                                    </Canvas>
                                                                                </ControlTemplate>
                                                                            </MenuItem.Resources>
                                                                            <MenuItem.Icon>
                                                                                <ContentControl Template="{StaticResource CancelIcon}" />
                                                                            </MenuItem.Icon>
                                                                        </MenuItem>
                                                                        <MenuItem Header="変更" Command="{Binding Path=DataContext.RentLivingEditPictureChangeCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                        </MenuItem>
                                                                    </ContextMenu>
                                                                </ListView.Resources>
                                                                <ListView.ItemContainerStyle>
                                                                    <Style TargetType="ListViewItem">
                                                                        <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                                        <Setter Property="ContextMenu" Value="{StaticResource ATItemContextMenu}" />
                                                                    </Style>
                                                                </ListView.ItemContainerStyle>
                                                                <ListView.ItemsPanel>
                                                                    <ItemsPanelTemplate>
                                                                        <WrapPanel/>
                                                                    </ItemsPanelTemplate>
                                                                </ListView.ItemsPanel>
                                                                <ListView.ItemTemplate>
                                                                    <DataTemplate>
                                                                        <Grid Width="200" Height="150">
                                                                            <Image Source="{Binding Picture}" Stretch="Uniform"></Image>
                                                                            <TextBlock Text="hoge"></TextBlock>
                                                                        </Grid>
                                                                    </DataTemplate>
                                                                </ListView.ItemTemplate>
                                                            </ListView>

                                                        </StackPanel>
                                                    </GroupBox>

                                                </StackPanel>
                                            </ScrollViewer>
                                        </TabItem>

                                        <TabItem Header="部屋情報" Width="120">

                                            <TabControl SelectedIndex="{Binding ShowRentLivingEditSectionTabActiveIndex, Mode=TwoWay}">

                                                <TabItem Header="部屋一覧" Visibility="{Binding ShowRentLivingEditSectionList, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                                                    <StackPanel>
                                                        <StackPanel Orientation="Horizontal">

                                                            <Button Width="130" Margin="3" HorizontalAlignment="Left" Command="{Binding RentLivingEditSectionNewCommand}">部屋の追加</Button>
                                                            <Button Width="130" Margin="3" HorizontalAlignment="Left" Command="{Binding RentLivingEditSectionEditCommand}">部屋の編集</Button>
                                                            <Button Width="130" Margin="3" HorizontalAlignment="Left" Command="{Binding RentLivingEditSectionDuplicateCommand}">部屋の複製</Button>
                                                            <Button Width="130" Margin="3" HorizontalAlignment="Left" Command="{Binding RentLivingEditSectionDeleteCommand}">部屋の削除</Button>

                                                        </StackPanel>
                                                        <ListView  Margin="3" ItemsSource="{Binding RentLivingEdit.RentLivingSections}" SelectedItem="{Binding RentLivingEditSectionSelectedItem}">
                                                            <ListView.View>
                                                                <GridView>
                                                                    <GridViewColumn Header="ID" Width="120">
                                                                        <GridViewColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <TextBlock Text="{Binding RentLivingSection_ID, Mode=OneWay}" Padding="3"/>
                                                                            </DataTemplate>
                                                                        </GridViewColumn.CellTemplate>
                                                                    </GridViewColumn>
                                                                    <GridViewColumn Header="部屋番号" Width="120">
                                                                        <GridViewColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <TextBlock Text="{Binding RentLivingSectionRoomNumber, Mode=OneWay}" Padding="3"/>
                                                                            </DataTemplate>
                                                                        </GridViewColumn.CellTemplate>
                                                                    </GridViewColumn>
                                                                    <GridViewColumn Header="賃料" Width="120">
                                                                        <GridViewColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <TextBlock Text="{Binding RentLivingSectionPrice, Mode=OneWay}" Padding="3"/>
                                                                            </DataTemplate>
                                                                        </GridViewColumn.CellTemplate>
                                                                    </GridViewColumn>
                                                                    <GridViewColumn Header="間取り" Width="120">
                                                                        <GridViewColumn.CellTemplate>
                                                                            <DataTemplate>
                                                                                <TextBlock Text="{Binding RentLivingSectionMadori, Mode=OneWay}" Padding="3"/>
                                                                            </DataTemplate>
                                                                        </GridViewColumn.CellTemplate>
                                                                    </GridViewColumn>
                                                                </GridView>
                                                            </ListView.View>
                                                        </ListView>
                                                    </StackPanel>
                                                </TabItem>

                                                <TabItem Header="部屋新規登録" Visibility="{Binding ShowRentLivingEditSectionNew, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                                                    <Grid>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>

                                                        <ScrollViewer Grid.Row="0">
                                                            <StackPanel>

                                                                <Label Content="部屋番号："/>
                                                                <TextBox Text="{Binding RentLivingEditSectionNew.RentLivingSectionRoomNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                                <Label Content="間取り："/>
                                                                <TextBox Text="{Binding RentLivingEditSectionNew.RentLivingSectionMadori}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                                <Label Content="賃料："/>
                                                                <TextBox Text="{Binding RentLivingEditSectionNew.RentLivingSectionPrice}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                                <!-- 部屋写真 -->
                                                                <GroupBox Header="部屋写真" Margin="10" Padding="10">
                                                                    <StackPanel HorizontalAlignment="Left">

                                                                        <StackPanel Orientation="Horizontal">
                                                                            <Button Width="130" Margin="3" Command="{Binding RentLivingEditSectionNewPictureAddCommand}">写真の追加</Button>
                                                                        </StackPanel>

                                                                        <ListView ItemsSource="{Binding RentLivingEditSectionNew.RentLivingSectionPictures}" Height="160" Width="450" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                                                            <ListView.Resources>
                                                                                <ContextMenu x:Key="ATItemContextMenu">
                                                                                    <MenuItem Header="削除" Command="{Binding Path=DataContext.RentLivingEditSectionNewPictureDeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                                        <MenuItem.Resources>
                                                                                            <ControlTemplate x:Key="CancelIcon">
                                                                                                <Canvas Background="Transparent" >
                                                                                                    <Path Fill="#373737" Width="14.3775" Height="14" Canvas.Left="0.311264" Canvas.Top="0.500005" Stretch="Uniform" Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />
                                                                                                </Canvas>
                                                                                            </ControlTemplate>
                                                                                        </MenuItem.Resources>
                                                                                        <MenuItem.Icon>
                                                                                            <ContentControl Template="{StaticResource CancelIcon}" />
                                                                                        </MenuItem.Icon>
                                                                                    </MenuItem>
                                                                                </ContextMenu>
                                                                            </ListView.Resources>
                                                                            <ListView.ItemContainerStyle>
                                                                                <Style TargetType="ListViewItem">
                                                                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                                                    <Setter Property="ContextMenu" Value="{StaticResource ATItemContextMenu}" />
                                                                                </Style>
                                                                            </ListView.ItemContainerStyle>
                                                                            <ListView.ItemsPanel>
                                                                                <ItemsPanelTemplate>
                                                                                    <WrapPanel/>
                                                                                </ItemsPanelTemplate>
                                                                            </ListView.ItemsPanel>
                                                                            <ListView.ItemTemplate>
                                                                                <DataTemplate>
                                                                                    <Grid Width="200" Height="150">
                                                                                        <Image Source="{Binding Picture}" Stretch="Uniform"></Image>
                                                                                        <TextBlock Text="hoge"></TextBlock>
                                                                                    </Grid>
                                                                                </DataTemplate>
                                                                            </ListView.ItemTemplate>
                                                                        </ListView>

                                                                    </StackPanel>
                                                                </GroupBox>

                                                            </StackPanel>
                                                        </ScrollViewer>

                                                        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="3 12 3 3" HorizontalAlignment="Right">
                                                            <Button Width="130" Margin="6" Padding="6" HorizontalAlignment="Left" Command="{Binding RentLivingEditSectionAddCommand}">部屋の登録</Button>
                                                            <Button Width="130" Margin="6" Padding="6" HorizontalAlignment="Left" Command="{Binding RentLivingEditSectionNewCancelCommand}">キャンセル</Button>
                                                        </StackPanel>
                                                    </Grid>

                                                </TabItem>

                                                <TabItem Header="部屋編集更新" Visibility="{Binding ShowRentLivingEditSectionEdit, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">
                                                    <Grid>
                                                        <Grid.RowDefinitions>
                                                            <RowDefinition Height="*"/>
                                                            <RowDefinition Height="Auto"/>
                                                        </Grid.RowDefinitions>
                                                        <Grid.ColumnDefinitions>
                                                            <ColumnDefinition Width="*"/>
                                                        </Grid.ColumnDefinitions>

                                                        <ScrollViewer Grid.Row="0">
                                                            <StackPanel>

                                                                <Label Content="部屋番号："/>
                                                                <TextBox Text="{Binding RentLivingEditSectionEdit.RentLivingSectionRoomNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                                <Label Content="間取り："/>
                                                                <TextBox Text="{Binding RentLivingEditSectionEdit.RentLivingSectionMadori}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                                <Label Content="賃料："/>
                                                                <TextBox Text="{Binding RentLivingEditSectionEdit.RentLivingSectionPrice}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                                <!-- 部屋写真 -->
                                                                <GroupBox Header="部屋写真" Margin="10" Padding="10">
                                                                    <StackPanel HorizontalAlignment="Left">

                                                                        <StackPanel Orientation="Horizontal">
                                                                            <Button Width="130" Margin="3" Command="{Binding RentLivingEditSectionEditPictureAddCommand}">写真の追加</Button>
                                                                        </StackPanel>

                                                                        <ListView ItemsSource="{Binding RentLivingEditSectionEdit.RentLivingSectionPictures}" Height="160" Width="450" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                                                            <ListView.Resources>
                                                                                <ContextMenu x:Key="ATItemContextMenu">
                                                                                    <MenuItem Header="削除" Command="{Binding Path=DataContext.RentLivingEditSectionEditPictureDeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                                        <MenuItem.Resources>
                                                                                            <ControlTemplate x:Key="CancelIcon">
                                                                                                <Canvas Background="Transparent" >
                                                                                                    <Path Fill="#373737" Width="14.3775" Height="14" Canvas.Left="0.311264" Canvas.Top="0.500005" Stretch="Uniform" Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />
                                                                                                </Canvas>
                                                                                            </ControlTemplate>
                                                                                        </MenuItem.Resources>
                                                                                        <MenuItem.Icon>
                                                                                            <ContentControl Template="{StaticResource CancelIcon}" />
                                                                                        </MenuItem.Icon>
                                                                                    </MenuItem>
                                                                                </ContextMenu>
                                                                            </ListView.Resources>
                                                                            <ListView.ItemContainerStyle>
                                                                                <Style TargetType="ListViewItem">
                                                                                    <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                                                    <Setter Property="ContextMenu" Value="{StaticResource ATItemContextMenu}" />
                                                                                </Style>
                                                                            </ListView.ItemContainerStyle>
                                                                            <ListView.ItemsPanel>
                                                                                <ItemsPanelTemplate>
                                                                                    <WrapPanel/>
                                                                                </ItemsPanelTemplate>
                                                                            </ListView.ItemsPanel>
                                                                            <ListView.ItemTemplate>
                                                                                <DataTemplate>
                                                                                    <Grid Width="200" Height="150">
                                                                                        <Image Source="{Binding Picture}" Stretch="Uniform"></Image>
                                                                                        <TextBlock Text="hoge"></TextBlock>
                                                                                    </Grid>
                                                                                </DataTemplate>
                                                                            </ListView.ItemTemplate>
                                                                        </ListView>

                                                                    </StackPanel>
                                                                </GroupBox>


                                                            </StackPanel>
                                                        </ScrollViewer>

                                                        <StackPanel Grid.Row="1" Orientation="Horizontal" Margin="3 12 3 3" HorizontalAlignment="Right">
                                                            <Button Width="130" Margin="6" Padding="6" HorizontalAlignment="Left" Command="{Binding RentLivingEditSectionUpdateCommand}">部屋の更新</Button>
                                                            <Button Width="130" Margin="6" Padding="6" HorizontalAlignment="Left" Command="{Binding RentLivingEditSectionEditCancelCommand}">キャンセル</Button>
                                                        </StackPanel>

                                                    </Grid>

                                                </TabItem>

                                            </TabControl>
                                        </TabItem>

                                        <TabItem Header="元付け業者" Width="120">
                                            <ScrollViewer>
                                                <StackPanel>

                                                </StackPanel>
                                            </ScrollViewer>
                                        </TabItem>

                                        <TabItem Header="管理会社" Width="120">
                                            <ScrollViewer>
                                                <StackPanel>

                                                </StackPanel>
                                            </ScrollViewer>
                                        </TabItem>

                                        <TabItem Header="オーナー" Width="120">

                                        </TabItem>

                                        <TabItem Header="募集図面" Width="120">
                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="*"/>
                                                </Grid.RowDefinitions>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                </Grid.ColumnDefinitions>

                                                <StackPanel Grid.Row="0" Orientation="Horizontal">
                                                    <Button Width="130" Margin="3" Command="{Binding RentLivingEditZumenPdfAddCommand}">図面の追加</Button>
                                                </StackPanel>

                                                <!--
                                            <wv2:WebView2 Grid.Row="1" Name="webView" Source="https://www.microsoft.com"/>
                                            -->

                                                <ListView Grid.Row="1" ItemsSource="{Binding RentLivingEdit.RentLivingZumenPDFs}" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
                                                    <ListView.InputBindings>
                                                        <!-- エンター!! -->
                                                        <KeyBinding Key="Enter" Command="{Binding Path=DataContext.RentLivingEditZumenPdfEnterCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItem, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" />
                                                    </ListView.InputBindings>
                                                    <ListView.Resources>
                                                        <ContextMenu x:Key="ATItemContextMenu">
                                                            <MenuItem Header="表示" Command="{Binding Path=DataContext.RentLivingEditZumenPdfShowCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}"></MenuItem>
                                                            <Separator/>
                                                            <MenuItem Header="削除" Command="{Binding Path=DataContext.RentLivingEditZumenPdfDeleteCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItems, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}">
                                                                <MenuItem.Resources>
                                                                    <ControlTemplate x:Key="CancelIcon">
                                                                        <Canvas Background="Transparent" >
                                                                            <Path Fill="#373737" Width="14.3775" Height="14" Canvas.Left="0.311264" Canvas.Top="0.500005" Stretch="Uniform" Data="M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12C4,13.85 4.63,15.55 5.68,16.91L16.91,5.68C15.55,4.63 13.85,4 12,4M12,20A8,8 0 0,0 20,12C20,10.15 19.37,8.45 18.32,7.09L7.09,18.32C8.45,19.37 10.15,20 12,20Z" />
                                                                        </Canvas>
                                                                    </ControlTemplate>
                                                                </MenuItem.Resources>
                                                                <MenuItem.Icon>
                                                                    <ContentControl Template="{StaticResource CancelIcon}" />
                                                                </MenuItem.Icon>
                                                            </MenuItem>
                                                        </ContextMenu>
                                                    </ListView.Resources>
                                                    <ListView.ItemContainerStyle>
                                                        <Style TargetType="ListViewItem">
                                                            <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                            <Setter Property="ContextMenu" Value="{StaticResource ATItemContextMenu}" />
                                                            <Setter Property="Template">
                                                                <Setter.Value>
                                                                    <ControlTemplate TargetType="{x:Type ListViewItem}">
                                                                        <Border Name="Border" Margin="{TemplateBinding Margin}" Padding="{TemplateBinding Padding}" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" ClipToBounds="{TemplateBinding ClipToBounds}" CornerRadius="0" SnapsToDevicePixels="true">
                                                                            <GridViewRowPresenter VerticalAlignment="{TemplateBinding VerticalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" />

                                                                            <Border.InputBindings>
                                                                                <!-- ダブルクリック!! -->
                                                                                <MouseBinding Command="{Binding Path=DataContext.RentLivingEditZumenPdfEnterCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" CommandParameter="{Binding Path=SelectedItem, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=ListView}}" Gesture="LeftDoubleClick" />
                                                                            </Border.InputBindings>
                                                                        </Border>
                                                                    </ControlTemplate>
                                                                </Setter.Value>
                                                            </Setter>
                                                            <Style.Triggers>
                                                                <Trigger Property="ItemsControl.AlternationIndex" Value="0">
                                                                    <Setter Property="BorderThickness" Value="1" />
                                                                </Trigger>
                                                                <Trigger Property="ItemsControl.AlternationIndex" Value="1">
                                                                    <Setter Property="BorderThickness" Value="1" />
                                                                </Trigger>
                                                                <Trigger Property="IsMouseOver" Value="True">
                                                                    <Setter Property="TextElement.FontWeight" Value="SemiBold"/>
                                                                    <Setter Property="BorderThickness" Value="1" />
                                                                </Trigger>
                                                                <Trigger Property="IsSelected" Value="True">
                                                                    <Setter Property="TextElement.FontWeight" Value="Bold"/>
                                                                    <Setter Property="BorderThickness" Value="1" />
                                                                </Trigger>
                                                            </Style.Triggers>
                                                        </Style>
                                                    </ListView.ItemContainerStyle>
                                                    <ListView.View>
                                                        <GridView>
                                                            <GridViewColumn Header="ID" Width="120">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding RentZumenPDF_ID, Mode=OneWay}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="登録日" Width="150">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding DateTimeAdded, Mode=OneWay, StringFormat=yyyy/MM/dd HH:mm:ss}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="情報公開日" Width="150">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding DateTimePublished, Mode=OneWay, StringFormat=yyyy/MM/dd HH:mm:ss}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="最終確認日" Width="150">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding DateTimeVerified, Mode=OneWay, StringFormat=yyyy/MM/dd HH:mm:ss}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                            <GridViewColumn Header="ファイルサイズ" Width="120">
                                                                <GridViewColumn.CellTemplate>
                                                                    <DataTemplate>
                                                                        <TextBlock Text="{Binding FileSizeLabel, Mode=OneWay}" Padding="3"/>
                                                                    </DataTemplate>
                                                                </GridViewColumn.CellTemplate>
                                                            </GridViewColumn>
                                                        </GridView>
                                                    </ListView.View>
                                                </ListView>

                                            </Grid>
                                        </TabItem>

                                    </TabControl>

                                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button Command="{Binding RentLivingEditSelectedEditUpdateCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">物件の更新</Button>
                                        <Button Command="{Binding RentLivingEditSelectedEditCancelCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">キャンセル</Button>
                                    </StackPanel>
                                </Grid>

                            </TabItem>

                        </TabControl>


                    </TabItem>

                    <TabItem x:Name="RB_Tab" Width="150" Style="{StaticResource NoChromeTabHeader}">
                        <TabItem.Header>
                            <Grid Width="190">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal">
                                    <Viewbox Margin="16" HorizontalAlignment="Left" VerticalAlignment="Center" Stretch="Uniform" Width="18" Height="18">
                                        <Canvas Opacity="1" Width="12" Height="12" HorizontalAlignment="Center" VerticalAlignment="Center">
                                            <Path Fill="{Binding ElementName=RB_Tab,Path=Foreground}" Stretch="Uniform" Width="12" Height="12" Data="M182.981 112.854c-7.3-5.498-17.699-7.697-17.699-7.697s8.8-5.102 12.396-10.199  c3.6-5.099 5.399-12.999 5.7-17.098c0.299-4.101 1-21.296-12.399-31.193c-10.364-7.658-22.241-10.698-38.19-11.687V0.278h-21.396  V34.57c-4.774 0-10.353 0-16.297 0V0.278H73.702V34.57c-21.841 0-42.092 0-42.092 0v22.219c0 0 8.998 0 12.372 0  c3.373 0 9.372 0.375 11.921 3.228c2.55 2.848 3 4.349 3 9.895c0 5.548 0.001 86.435 0.001 88.535c0 2.099-0.4 4.697-2.201 6.398  c-1.798 1.701-3.597 2.098-7.898 2.098c-4.3 0-12.796 0-12.796 0l-4.399 25.698c0 0 20.918 0 42.092 0v34.195h21.395v-34.195  c6.574 0 12.298 0 16.297 0v34.195h21.396v-34.759c5.531-0.323 10.688-0.742 13.696-1.136c6.1-0.798 19.896-2.398 32.796-11.397  c12.896-9 15.793-23.098 16.094-37.294C195.68 128.053 190.274 118.353 182.981 112.854z M95.096 58.766  c0 0 6.798-0.599 13.497-0.501c6.701 0.099 12.597 0.3 21.398 3c8.797 2.701 13.992 9.3 14.196 17.099  c0.199 7.799-3.204 12.996-9.2 16.296c-5.998 3.299-14.292 5.099-22.094 5.396c-7.797 0.301-17.797 0-17.797 0V58.766z   M142.986 161.045c-4.899 2.701-14.698 5.1-24.194 5.798c-9.499 0.701-23.696 0.401-23.696 0.401v-45.893c0 0 13.598-0.698 24.197 0  c10.597 0.703 19.495 3.4 23.492 5.403c3.999 1.998 11 6.396 11 16.896C153.785 154.146 147.882 158.346 142.986 161.045z"/>
                                        </Canvas>
                                    </Viewbox>
                                </StackPanel>

                                <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left">
                                    <TextBlock Text="賃貸事業用" FontSize="14" HorizontalAlignment="Left" VerticalAlignment="Center" Padding="6 10 2 10">
                                    </TextBlock>
                                </StackPanel>

                                <StackPanel Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Left">
                                </StackPanel>

                                <StackPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                </StackPanel>
                            </Grid>
                        </TabItem.Header>
                    </TabItem>

                </TabControl>


            </Grid>





            <TabControl Grid.Row="3" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" TabStripPlacement="Left" SelectedIndex="1" Visibility="Collapsed">

                <TabItem Header="ホーム" Width="120" Padding="6">
                    <Grid Background="#FFE5E5E5">

                        <TabControl HorizontalAlignment="Stretch" VerticalAlignment="Stretch" TabStripPlacement="Top" Margin="6">

                            <TabItem Header="物件検索" Width="120">


                            </TabItem>

                        </TabControl>

                    </Grid>
                </TabItem>

                <TabItem Header="賃貸住居用物件" Padding="6">
                </TabItem>

                <TabItem Header="賃貸事業用物件" Padding="6">

                </TabItem>

                <TabItem Header="賃貸駐車場" Padding="6">

                </TabItem>

                <TabItem Header="元付け業者" Padding="6">
                    <Grid Background="#FFE5E5E5">

                        <TabControl HorizontalAlignment="Stretch" VerticalAlignment="Stretch" TabStripPlacement="Top" Margin="6" SelectedIndex="{Binding ShowAgencyTabActiveIndex, Mode=TwoWay}">

                            <TabItem Header="元付け業者" Width="120" Visibility="{Binding ShowAgencySearchList, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <Grid >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <Grid Grid.Row="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBox Text="{Binding AgencySearchText, UpdateSourceTrigger=PropertyChanged}" Grid.Row="0" Grid.Column="0" Width="212" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></TextBox>

                                        <Button Content="検索" Command="{Binding AgencySearchCommand}" Grid.Row="0" Grid.Column="1" IsDefault="True" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                        <Button Content="一覧" Command="{Binding AgencyListCommand}" Grid.Row="0" Grid.Column="2" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                    </Grid>

                                    <Grid Grid.Row="1">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Button Content="新規追加" Command="{Binding AgencyNewCommand}" Grid.Row="0" Grid.Column="0" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                        <Button Content="編集" Command="{Binding AgencySelectedEditCommand}" Grid.Row="0" Grid.Column="2" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                        <Button Content="削除" Command="{Binding AgencySelectedDeleteCommand}" Grid.Row="0" Grid.Column="3" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                    </Grid>

                                    <Grid x:Name="RealestateAgencyListViewDummy" Grid.Row="2" Grid.Column="0" Visibility="Hidden" Margin="0 0 27 0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="4*"/>
                                            <ColumnDefinition Width="2*" />
                                            <ColumnDefinition Width="90"/>
                                            <ColumnDefinition Width="5*"/>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="2*"/>
                                        </Grid.ColumnDefinitions>

                                        <!--  This is the hidden helper Field which is used to bind to, using the "Fill" column of the helper grid  -->
                                        <Grid x:Name="REAWidth0" Grid.Column="0" />
                                        <Grid x:Name="REAWidth1" Grid.Column="1" />
                                        <Grid x:Name="REAWidth2" Grid.Column="2" />
                                        <Grid x:Name="REAWidth3" Grid.Column="3" />
                                        <Grid x:Name="REAWidth4" Grid.Column="4" />
                                        <Grid x:Name="REAWidth5" Grid.Column="5" />
                                        <Grid x:Name="REAWidth6" Grid.Column="6" />
                                    </Grid>

                                    <ListView Grid.Row="2" Grid.Column="0" Background="Transparent" ItemsSource="{Binding Agencies}" SelectedItem="{Binding AgenciesSelectedItem, Mode=TwoWay}" SelectionMode="Extended" helper:GridViewSort.AutoSort="True" helper:GridViewSort.ShowSortGlyph="True" IsSynchronizedWithCurrentItem="True" AlternationCount="2" MinHeight="80" BorderThickness="0" Padding="0 0 0 0" Margin="0 0 0 0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Visible">
                                        <ListView.Resources>
                                            <ContextMenu x:Key="REAEditItemContextMenu">
                                                <MenuItem Header="選択アイテム">

                                                </MenuItem>
                                            </ContextMenu>
                                        </ListView.Resources>
                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem">
                                                <Setter Property="Margin" Value="1 0 0 0"/>
                                                <Setter Property="Padding" Value="0 1 0 1"/>
                                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                <Setter Property="ContextMenu" Value="{StaticResource REAEditItemContextMenu}" />
                                            </Style>
                                        </ListView.ItemContainerStyle>

                                        <ListView.View>
                                            <GridView>
                                                <GridViewColumn Header="ID" Width="{Binding ElementName=REAWidth0, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Agency_ID, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="会社名" Width="{Binding ElementName=REAWidth1, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Name, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="支店" Width="{Binding ElementName=REAWidth2, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Branch, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="〒" Width="{Binding ElementName=REAWidth3, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding PostalCode, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="所在地" Width="{Binding ElementName=REAWidth4, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Address, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="電話番号" Width="{Binding ElementName=REAWidth5, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding TelNumber, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="FAX番号" Width="{Binding ElementName=REAWidth6, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding FaxNumber, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>


                                            </GridView>
                                        </ListView.View>

                                    </ListView>

                                </Grid>

                            </TabItem>

                            <TabItem Header="業者編集" Width="120" Visibility="{Binding ShowAgencyEdit, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <Grid x:Name="GridEditAgency">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <TabControl Grid.Row="0">

                                        <TabItem Header="業者情報" Width="120">
                                            <ScrollViewer>
                                                <StackPanel>
                                                    <Label Content="会社名："/>
                                                    <TextBox Text="{Binding AgencyEdit.Name}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="支店："/>
                                                    <TextBox Text="{Binding AgencyEdit.Branch}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="〒："/>
                                                    <TextBox Text="{Binding AgencyEdit.PostalCode}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="所在地："/>
                                                    <TextBox Text="{Binding AgencyEdit.Address}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="電話番号："/>
                                                    <TextBox Text="{Binding AgencyEdit.TelNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="FAX番号："/>
                                                    <TextBox Text="{Binding AgencyEdit.FaxNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="備考："/>
                                                    <TextBox Text="{Binding AgencyEdit.Memo}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                </StackPanel>
                                            </ScrollViewer>
                                        </TabItem>

                                        <TabItem Header="媒介物件" Width="120">

                                        </TabItem>

                                    </TabControl>

                                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button Command="{Binding AgencyInsertOrUpdateCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">業者の登録または更新</Button>
                                        <Button Command="{Binding AgencyNewOrEditCancelCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">キャンセル</Button>
                                    </StackPanel>
                                </Grid>

                            </TabItem>

                        </TabControl>

                    </Grid>
                </TabItem>

                <TabItem Header="管理会社" Padding="6">
                    <Grid Background="#FFE5E5E5">

                        <TabControl HorizontalAlignment="Stretch" VerticalAlignment="Stretch" TabStripPlacement="Top" Margin="6" SelectedIndex="{Binding ShowMaintenanceCompanyTabActiveIndex, Mode=TwoWay}">

                            <TabItem Header="管理会社" Width="120" Visibility="{Binding ShowMaintenanceCompanySearchList, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <Grid >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <Grid Grid.Row="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBox Text="{Binding MaintenanceCompanySearchText, UpdateSourceTrigger=PropertyChanged}" Grid.Row="0" Grid.Column="0" Width="212" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></TextBox>

                                        <Button Content="検索" Command="{Binding MaintenanceCompanySearchCommand}" Grid.Row="0" Grid.Column="1" IsDefault="True" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                        <Button Content="一覧" Command="{Binding MaintenanceCompanyListCommand}" Grid.Row="0" Grid.Column="2" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                    </Grid>

                                    <Grid Grid.Row="1">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Button Content="新規追加" Command="{Binding MaintenanceCompanyNewCommand}" Grid.Row="0" Grid.Column="0" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                        <Button Content="編集" Command="{Binding MaintenanceCompanySelectedEditCommand}" Grid.Row="0" Grid.Column="2" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                        <Button Content="削除" Command="{Binding MaintenanceCompanySelectedDeleteCommand}" Grid.Row="0" Grid.Column="3" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                    </Grid>

                                    <Grid x:Name="MaintenanceCompanyListViewDummy" Grid.Row="2" Grid.Column="0" Visibility="Hidden" Margin="0 0 27 0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="4*"/>
                                            <ColumnDefinition Width="2*" />
                                            <ColumnDefinition Width="90"/>
                                            <ColumnDefinition Width="5*"/>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="2*"/>
                                        </Grid.ColumnDefinitions>

                                        <!--  This is the hidden helper Field which is used to bind to, using the "Fill" column of the helper grid  -->
                                        <Grid x:Name="MCWidth0" Grid.Column="0" />
                                        <Grid x:Name="MCWidth1" Grid.Column="1" />
                                        <Grid x:Name="MCWidth2" Grid.Column="2" />
                                        <Grid x:Name="MCWidth3" Grid.Column="3" />
                                        <Grid x:Name="MCWidth4" Grid.Column="4" />
                                        <Grid x:Name="MCWidth5" Grid.Column="5" />
                                        <Grid x:Name="MCWidth6" Grid.Column="6" />
                                    </Grid>

                                    <ListView Grid.Row="2" Grid.Column="0" Background="Transparent" ItemsSource="{Binding MaintenanceCompanies}" SelectedItem="{Binding MaintenanceCompaniesSelectedItem, Mode=TwoWay}" SelectionMode="Extended" helper:GridViewSort.AutoSort="True" helper:GridViewSort.ShowSortGlyph="True" IsSynchronizedWithCurrentItem="True" AlternationCount="2" MinHeight="80" BorderThickness="0" Padding="0 0 0 0" Margin="0 0 0 0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Visible">
                                        <ListView.Resources>
                                            <ContextMenu x:Key="MCEditItemContextMenu">
                                                <MenuItem Header="選択アイテム">

                                                </MenuItem>
                                            </ContextMenu>
                                        </ListView.Resources>
                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem">
                                                <Setter Property="Margin" Value="1 0 0 0"/>
                                                <Setter Property="Padding" Value="0 1 0 1"/>
                                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                <Setter Property="ContextMenu" Value="{StaticResource MCEditItemContextMenu}" />
                                            </Style>
                                        </ListView.ItemContainerStyle>

                                        <ListView.View>
                                            <GridView>
                                                <GridViewColumn Header="ID" Width="{Binding ElementName=MCWidth0, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding MaintenanceCompany_ID, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="会社名" Width="{Binding ElementName=MCWidth1, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Name, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="支店" Width="{Binding ElementName=MCWidth2, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Branch, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="〒" Width="{Binding ElementName=MCWidth3, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding PostalCode, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="所在地" Width="{Binding ElementName=MCWidth4, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Address, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="電話番号" Width="{Binding ElementName=MCWidth5, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding TelNumber, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="FAX番号" Width="{Binding ElementName=MCWidth6, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding FaxNumber, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>


                                            </GridView>
                                        </ListView.View>

                                    </ListView>

                                </Grid>

                            </TabItem>

                            <TabItem Header="管理会社編集" Width="120" Visibility="{Binding ShowMaintenanceCompanyEdit, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <TabControl Grid.Row="0">

                                        <TabItem Header="管理会社情報" Width="120">
                                            <ScrollViewer>
                                                <StackPanel>
                                                    <Label Content="会社名："/>
                                                    <TextBox Text="{Binding MaintenanceCompanyEdit.Name}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="支店："/>
                                                    <TextBox Text="{Binding MaintenanceCompanyEdit.Branch}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="〒："/>
                                                    <TextBox Text="{Binding MaintenanceCompanyEdit.PostalCode}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="所在地："/>
                                                    <TextBox Text="{Binding MaintenanceCompanyEdit.Address}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="電話番号："/>
                                                    <TextBox Text="{Binding MaintenanceCompanyEdit.TelNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="FAX番号："/>
                                                    <TextBox Text="{Binding MaintenanceCompanyEdit.FaxNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="備考："/>
                                                    <TextBox Text="{Binding MaintenanceCompanyEdit.Memo}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                </StackPanel>
                                            </ScrollViewer>
                                        </TabItem>

                                        <TabItem Header="管理物件" Width="120">

                                        </TabItem>

                                    </TabControl>

                                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button Command="{Binding MaintenanceCompanyInsertOrUpdateCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">管理会社の登録または更新</Button>
                                        <Button Command="{Binding MaintenanceCompanyNewOrEditCancelCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">キャンセル</Button>
                                    </StackPanel>
                                </Grid>

                            </TabItem>

                        </TabControl>

                    </Grid>
                </TabItem>

                <TabItem Header="オーナー" Padding="6">
                    <Grid Background="#FFE5E5E5">

                        <TabControl HorizontalAlignment="Stretch" VerticalAlignment="Stretch" TabStripPlacement="Top" Margin="6" SelectedIndex="{Binding ShowOwnerTabActiveIndex, Mode=TwoWay}">

                            <TabItem Header="オーナー" Width="120" Visibility="{Binding ShowOwnerSearchList, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <Grid >
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="50"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <Grid Grid.Row="0">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <TextBox Text="{Binding OwnerSearchText, UpdateSourceTrigger=PropertyChanged}" Grid.Row="0" Grid.Column="0" Width="212" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></TextBox>

                                        <Button Content="検索" Command="{Binding OwnerSearchCommand}" Grid.Row="0" Grid.Column="1" IsDefault="True" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                        <Button Content="一覧" Command="{Binding OwnerListCommand}" Grid.Row="0" Grid.Column="2" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                    </Grid>

                                    <Grid Grid.Row="1">
                                        <Grid.RowDefinitions>
                                            <RowDefinition/>
                                        </Grid.RowDefinitions>
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>

                                        <Button Content="新規追加" Command="{Binding OwnerNewCommand}" Grid.Row="0" Grid.Column="0" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"/>

                                        <Button Content="編集" Command="{Binding OwnerSelectedEditCommand}" Grid.Row="0" Grid.Column="2" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                        <Button Content="削除" Command="{Binding OwnerSelectedDeleteCommand}" Grid.Row="0" Grid.Column="3" Width="100" Padding="3" Margin="6" VerticalAlignment="Center" HorizontalAlignment="Center"></Button>

                                    </Grid>

                                    <Grid x:Name="OwnerListViewDummy" Grid.Row="2" Grid.Column="0" Visibility="Hidden" Margin="0 0 27 0">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="50"/>
                                            <ColumnDefinition Width="4*"/>
                                            <ColumnDefinition Width="2*" />
                                            <ColumnDefinition Width="90"/>
                                            <ColumnDefinition Width="5*"/>
                                            <ColumnDefinition Width="2*"/>
                                            <ColumnDefinition Width="2*"/>
                                        </Grid.ColumnDefinitions>

                                        <!--  This is the hidden helper Field which is used to bind to, using the "Fill" column of the helper grid  -->
                                        <Grid x:Name="OWidth0" Grid.Column="0" />
                                        <Grid x:Name="OWidth1" Grid.Column="1" />
                                        <Grid x:Name="OWidth2" Grid.Column="2" />
                                        <Grid x:Name="OWidth3" Grid.Column="3" />
                                        <Grid x:Name="OWidth4" Grid.Column="4" />
                                        <Grid x:Name="OWidth5" Grid.Column="5" />
                                        <Grid x:Name="OWidth6" Grid.Column="6" />
                                    </Grid>

                                    <ListView Grid.Row="2" Grid.Column="0" Background="Transparent" ItemsSource="{Binding Owners}" SelectedItem="{Binding OwnersSelectedItem, Mode=TwoWay}" SelectionMode="Extended" helper:GridViewSort.AutoSort="True" helper:GridViewSort.ShowSortGlyph="True" IsSynchronizedWithCurrentItem="True" AlternationCount="2" MinHeight="80" BorderThickness="0" Padding="0 0 0 0" Margin="0 0 0 0" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" ScrollViewer.HorizontalScrollBarVisibility="Disabled" ScrollViewer.VerticalScrollBarVisibility="Visible">
                                        <ListView.Resources>
                                            <ContextMenu x:Key="OEditItemContextMenu">
                                                <MenuItem Header="選択アイテム">

                                                </MenuItem>
                                            </ContextMenu>
                                        </ListView.Resources>
                                        <ListView.ItemContainerStyle>
                                            <Style TargetType="ListViewItem">
                                                <Setter Property="Margin" Value="1 0 0 0"/>
                                                <Setter Property="Padding" Value="0 1 0 1"/>
                                                <Setter Property="HorizontalContentAlignment" Value="Center"/>
                                                <Setter Property="ContextMenu" Value="{StaticResource OEditItemContextMenu}" />
                                            </Style>
                                        </ListView.ItemContainerStyle>

                                        <ListView.View>
                                            <GridView>
                                                <GridViewColumn Header="ID" Width="{Binding ElementName=OWidth0, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Owner_ID, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="氏名" Width="{Binding ElementName=OWidth1, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Name, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="〒" Width="{Binding ElementName=OWidth2, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding PostalCode, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="住所" Width="{Binding ElementName=OWidth3, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding Address, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="電話番号" Width="{Binding ElementName=OWidth4, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding TelNumber, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>

                                                <GridViewColumn Header="FAX番号" Width="{Binding ElementName=OWidth5, Path=ActualWidth}">
                                                    <GridViewColumn.CellTemplate>
                                                        <DataTemplate>
                                                            <TextBlock Text="{Binding FaxNumber, Mode=OneWay}" Padding="3"/>
                                                        </DataTemplate>
                                                    </GridViewColumn.CellTemplate>
                                                </GridViewColumn>


                                            </GridView>
                                        </ListView.View>

                                    </ListView>

                                </Grid>

                            </TabItem>

                            <TabItem Header="オーナー編集" Width="120" Visibility="{Binding ShowOwnerEdit, Converter={StaticResource BoolToVisibilityCollapsedConverter}}">

                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <TabControl Grid.Row="0">

                                        <TabItem Header="オーナー情報" Width="120">
                                            <ScrollViewer>
                                                <StackPanel>
                                                    <Label Content="氏名："/>
                                                    <TextBox Text="{Binding OwnerEdit.Name}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="〒："/>
                                                    <TextBox Text="{Binding OwnerEdit.PostalCode}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="住所："/>
                                                    <TextBox Text="{Binding OwnerEdit.Address}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="電話番号："/>
                                                    <TextBox Text="{Binding OwnerEdit.TelNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="FAX番号："/>
                                                    <TextBox Text="{Binding OwnerEdit.FaxNumber}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>
                                                    <Label Content="備考："/>
                                                    <TextBox Text="{Binding OwnerEdit.Memo}" Width="212" Margin="6 0 0 0" VerticalAlignment="Center" HorizontalAlignment="Left"></TextBox>

                                                </StackPanel>
                                            </ScrollViewer>
                                        </TabItem>

                                        <TabItem Header="所有物件" Width="120">

                                        </TabItem>

                                    </TabControl>

                                    <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right">
                                        <Button Command="{Binding OwnerInsertOrUpdateCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">オーナーの登録または更新</Button>
                                        <Button Command="{Binding OwnerNewOrEditCancelCommand}" Width="200" Margin="6" Padding="6" VerticalAlignment="Center" HorizontalAlignment="Center">キャンセル</Button>
                                    </StackPanel>
                                </Grid>

                            </TabItem>

                        </TabControl>

                    </Grid>
                </TabItem>

                <TabItem Header="設定" Padding="6">

                </TabItem>

            </TabControl>

        </Grid>
    </Border>
</Window>
